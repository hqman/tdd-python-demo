{
  "testModules": [
    {
      "moduleId": "tests/test_client.py",
      "tests": [
        {
          "name": "test_request_success",
          "fullName": "tests/test_client.py::TestRequestMethod::test_request_success",
          "state": "passed"
        },
        {
          "name": "test_request_retry_on_network_error",
          "fullName": "tests/test_client.py::TestRequestMethod::test_request_retry_on_network_error",
          "state": "passed"
        },
        {
          "name": "test_request_rotates_key_on_quota_error",
          "fullName": "tests/test_client.py::TestRequestMethod::test_request_rotates_key_on_quota_error",
          "state": "passed"
        },
        {
          "name": "test_request_rotates_key_on_429_rate_limit",
          "fullName": "tests/test_client.py::TestRequestMethod::test_request_rotates_key_on_429_rate_limit",
          "state": "failed",
          "errors": [
            {
              "message": "self = <test_client.TestRequestMethod object at 0x103d502b0>\nmock_get = <MagicMock name='get' id='4359637376'>\nmock_sleep = <MagicMock name='sleep' id='4359637712'>\n\n    @patch('tdd_python_demo.youtube_api.client.time.sleep')\n    @patch('tdd_python_demo.youtube_api.client.requests.get')\n    def test_request_rotates_key_on_429_rate_limit(self, mock_get, mock_sleep):\n        \"\"\"Test request rotates to next API key on 429 rate limit error.\"\"\"\n        mock_response_429 = Mock()\n        mock_response_429.status_code = 429\n        mock_response_429.json.return_value = {\"error\": {\"code\": 429}}\n    \n        mock_response_success = Mock()\n        mock_response_success.status_code = 200\n        mock_response_success.json.return_value = {\"success\": True}\n    \n        mock_get.side_effect = [mock_response_429, mock_response_success]\n    \n        client = YouTubeClient(api_keys=\"key1,key2,key3\")\n        result = client.request(\"https://api.example.com/test\", {})\n    \n>       assert result == {\"success\": True}\nE       AssertionError: assert {'error': {'code': 429}} == {'success': True}\nE         \nE         Left contains 1 more item:\nE         {'error': {'code': 429}}\nE         Right contains 1 more item:\nE         {'success': True}\nE         \nE         Full diff:...\nE         \nE         ...Full output truncated (6 lines hidden), use '-vv' to show\n\ntests/test_client.py:121: AssertionError"
            }
          ]
        }
      ]
    }
  ]
}